<%- include('../partials/header.ejs') %>


<form action="/blogs/edit/<%= blog.id %>" method="POST" enctype="multipart/form-data" class="w-50 p-4 mt-5 shadow m-auto bg-light rounded" style="max-width: 500px;">
    <h3 class="mb-3">Edit Blog Info</h3>
    <hr>
    <div class="mb-3">
        <label for="author-id">Author:</label>
        <select name="author_id" required class="form-control">
            <% authors.forEach(author => { %>
                <option value="<%= author.id %>" <%= blog.author_id === author.id ? 'selected' : '' %>><%= author.name %></option>
            <% }) %>
        </select>
    </div>
    <div class="mb-3">
        <label for="category-id">Category:</label>
        <select name="category_id" required class="form-control">
            <% categories.forEach(category => { %>
                <option value="<%= category.id %>" <%= blog.category_id === category.id ? 'selected' : '' %>><%= category.name %></option>
            <% }) %>
        </select>
    </div>

    <div class="mb-3">
        <label for="title">Title:</label>
        <input type="text" class="form-control" name="title" value="<%= blog.title %>" required>
    </div>

    <div class="mb-3">
        <label for="content">Content:</label>
        <textarea name="content" class="form-control" style="resize: vertical;" required><%= blog.content %></textarea>
    </div>

    <div class="mb-3">
        <label for="photo">Photo:</label>
        <% if (blog.photo) { %>
            <div>
                <img src="/uploads/<%= blog.photo %>" alt="blog photo" style="max-width: 50%; height: auto;">
            </div>
            <small>Current Photo</small>
        <% } %>
        <input type="file" class="form-control" name="photo" accept="image/*">
    </div>
    <button type="submit" class="btn btn-warning">Submit</button>
</form>


<%- include('../partials/footer.ejs') %>